doctype html
html
  head
    title Asset Management
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css")
    link(rel="stylesheet" href="/css/style.css")
    link(rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css")
  body
  .container-fluid
    .row
      .col-md-2.sidebar.border-end.min-vh-100.p-3
        h4.logo-text.mb-4
          i.fa.fa-cube.me-2
          | Asset Management

        ul.nav.flex-column
          li.nav-item
            a.nav-link(class=(currentPath === '/dashboard' ? 'active' : ''), href="/dashboard")
              i.bi.bi-speedometer2.me-2
              | Dashboard

          li.nav-item
            a.nav-link(class=(currentPath === '/employee' ? 'active' : ''), href="/employee")
              i.bi.bi-people-fill.me-2
              | Employees

          li.nav-item
            a.nav-link(class=(currentPath === '/assets-category' ? 'active' : ''), href="/assets-category")
              i.bi.bi-tags-fill.me-2
              | Asset Categories

          li.nav-item
            a.nav-link(class=(currentPath === '/assets' ? 'active' : ''), href="/assets")
              i.bi.bi-laptop-fill.me-2
              | Assets

          li.nav-item
            a.nav-link(class=(currentPath === '/assets/stock-view' ? 'active' : ''), href="/assets/stock-view")
              i.bi.bi-box-seam-fill.me-2
              | Stock View

          li.nav-item
            a.nav-link(class=(currentPath === '/assets/issue' ? 'active' : ''), href="/assets/issue")
              i.bi.bi-person-badge-fill.me-2
              | Issue Asset

          li.nav-item
            a.nav-link(class=(currentPath === '/assets/return' ? 'active' : ''), href="/assets/return")
              i.bi.bi-arrow-counterclockwise.me-2
              | Return Asset

          li.nav-item
            a.nav-link(class=(currentPath === '/assets/scrap' ? 'active' : ''), href="/assets/scrap")
              i.bi.bi-archive-fill.me-2
              | Scrap Asset

          li.nav-item
            a.nav-link(class=(currentPath === '/assets/history' ? 'active' : ''), href="/assets/history")
              i.bi.bi-clock-history.me-2
              | Asset History

          li.nav-item
            a.nav-link.text-danger(class=(currentPath === '/' ? 'active' : ''), href="/")
              i.bi.bi-box-arrow-right.me-2
              | Logout

      .col-md-10.p-0
        nav.navbar.navbar-light.bg-light.border-bottom.px-4.py-3.shadow-sm
          a.navbar-brand.fw-bold Hi Admin Welcome!
          .ms-auto.d-flex.align-items-center
            i.bi.bi-bell.icon-btn.me-4
            i.bi.bi-gear.icon-btn.me-4
            .profile-circle A
        block content
      script(src="https://code.jquery.com/jquery-3.7.0.min.js")
      script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js")
      script(src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js")
      script(src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js")

      block scripts
      script.
        document.addEventListener("DOMContentLoaded", () => {
          const links = document.querySelectorAll(".sidebar .nav-link[href]");
          const path  = location.pathname;

          const sorted = Array.from(links).sort(
            (a, b) => b.getAttribute("href").length - a.getAttribute("href").length
          );

          for (const link of sorted) {
            const href = link.getAttribute("href");
            if (path === href || path.startsWith(href + "/")) {
              links.forEach(l => l.classList.remove("active"));
              link.classList.add("active");
              break;
            }
          }
        });